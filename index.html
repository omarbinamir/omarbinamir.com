<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OBA Labs | omarbinamir.com</title>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import {
  getAuth,
  signInWithPopup,
  GoogleAuthProvider,
  onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

/* ================= FIREBASE CONFIG ================= */
const firebaseConfig = {
  apiKey: "AIzaSyDKjRSYZVcV_pJFlqu0h1hmyPshYKyNE7I",
  authDomain: "obalabs-c56ab.firebaseapp.com",
  projectId: "obalabs-c56ab",
  appId: "1:415868024118:web:4ea58785b6a175c4fbef97"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

/* ================= SPECIAL EMAILS ================= */
const OP_EMAILS = [
  "muhhammadamirbutt@gmail.com",
  "mom@gmail.com",
  "oforomarbinamir@gmail.com",
  "n4nidas@gmail.com",
  "relative3@gmail.com",
  "relative4@gmail.com",
  "relative5@gmail.com",
  "relative6@gmail.com",
  "relative7@gmail.com",
  "relative8@gmail.com"
];

/* ================= LOGIN FUNCTION ================= */
window.loginWithGoogle = async () => {
  try {
    const result = await signInWithPopup(auth, provider);
    const email = result.user.email.toLowerCase();

    if (OP_EMAILS.includes(email)) {
      // Always ask Gmail confirmation
      const confirmEmail = prompt("Please re-enter your Gmail for security:");
      if (confirmEmail && confirmEmail.toLowerCase() === email) {
        localStorage.setItem("verifiedOP", email); // optional, for future reference
        window.location.href = "op.html";
      } else {
        alert("Security check failed. Access denied.");
      }
    } else {
      alert(`Hello ${result.user.displayName}, enjoy OBA Labs!`);
    }
  } catch (err) {
    console.error(err);
    alert("Login failed");
  }
};

/* ================= AUTH STATE ================= */
onAuthStateChanged(auth, (user) => {
  const greeting = document.getElementById("greeting");
  const button = document.getElementById("loginBtn");

  if (!greeting || !button) return;

  if (user) {
    greeting.textContent = "Sign in please.";
    button.style.display = "inline-block";
  } else {
    greeting.textContent = "Sign in please.";
    button.style.display = "inline-block";
  }
});
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: system-ui, sans-serif;
  background: #000;
  color: #fff;
  overflow-x: hidden;
}

/* Cursor */
.cursor {
  width: 20px;
  height: 20px;
  border: 2px solid #00d4ff;
  border-radius: 50%;
  position: fixed;
  pointer-events: none;
  z-index: 9999;
  box-shadow: 0 0 20px #00d4ff;
}

/* Navbar */
nav {
  position: fixed;
  width: 100%;
  padding: 1.5rem 5%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  backdrop-filter: blur(10px);
  background: rgba(0,0,0,.6);
  border-bottom: 1px solid rgba(0,212,255,.2);
  z-index: 1000;
}

.logo {
  font-size: 2rem;
  font-weight: 700;
  color: #00d4ff;
  background: linear-gradient(135deg, #00d4ff, #0077ff);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.nav-links {
  display: flex;
  gap: 2rem;
  list-style: none;
}
.nav-links a {
  color: #fff;
  text-decoration: none;
}

/* Hero */
.hero {
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
}

.grid-bg {
  position: absolute;
  inset: 0;
  background:
    linear-gradient(rgba(0,212,255,.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,212,255,.1) 1px, transparent 1px);
  background-size: 50px 50px;
  transform: rotateX(60deg);
}

.hero-content { z-index: 2; }

h1 {
  font-size: 4.5rem;
  letter-spacing: 5px;
  color: #00d4ff;
  background: linear-gradient(135deg, #00d4ff, #0077ff);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.subtitle {
  color: #00d4ff;
  margin-bottom: 2rem;
}

.cta-button {
  padding: 1rem 3rem;
  border: 2px solid #00d4ff;
  background: transparent;
  color: #00d4ff;
  cursor: pointer;
  font-size: 1.1rem;
}

.cta-button:hover {
  background: #00d4ff;
  color: #000;
  box-shadow: 0 0 30px #00d4ff;
}

#greeting {
  margin-top: 1.5rem;
  font-size: 1.8rem;
  color: #00d4ff;
}
</style>
</head>

<body>
<div class="cursor"></div>

<nav>
  <div class="logo">OBA LABS</div>
  <ul class="nav-links">
    <li><a href="#home">Home</a></li>
    <li><a href="#">Features</a></li>
    <li><a href="#">About</a></li>
  </ul>
</nav>

<section class="hero" id="home">
  <div class="grid-bg"></div>
  <div class="hero-content">
    <h1>OBA LABS</h1>
    <p class="subtitle">Innovation Beyond Imagination</p>
    <button id="loginBtn" class="cta-button" onclick="loginWithGoogle()">
      Sign in with Google
    </button>
    <div id="greeting">Loadingâ€¦</div>
  </div>
</section>

<script>
/* Cursor */
const cursor = document.querySelector(".cursor");
document.addEventListener("mousemove", e => {
  cursor.style.left = e.clientX - 10 + "px";
  cursor.style.top = e.clientY - 10 + "px";
});
</script>

</body>
</html>
