<!DOCTYPE html>
<html>
<head>
  <title>FlexMyGame</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #101010;
      color: #fff;
      padding: 20px;
    }
    .form-box {
      background: #202020;
      padding: 15px;
      border-radius: 12px;
      margin-bottom: 20px;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
      background: #333;
      color: white;
      border: none;
    }
    button {
      background: #00ffd0;
      color: black;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 10px;
    }
    .deleteBtn {
      background: #ff0044;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 5px 10px;
      cursor: pointer;
      margin-top: 5px;
    }
    #buyPass {
      display: none;
      background: #ff00cc;
      color: white;
      margin-top: 10px;
      border: 2px solid white;
    }
    .card {
      background: #2a2a2a;
      padding: 15px;
      border-radius: 10px;
      margin-top: 10px;
    }
    #displayArea {
      margin-top: 20px;
    }
    #flexidDisplay {
      color: #00ffcc;
      font-weight: bold;
      font-size: 14px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

  <h1>ðŸŽ® FlexMyGame</h1>
  <div id="flexidDisplay"></div>
  <p>You can post up to <strong>10 flexes</strong>. Buy the ðŸ’Ž <strong>INFINITE FLEX PASS</strong> to flex unlimited accounts!</p>

  <div class="form-box">
    <label>Select Game:</label>
    <select id="game">
      <option value="Roblox">Roblox</option>
      <option value="Fortnite">Fortnite</option>
      <option value="Minecraft">Minecraft</option>
    </select>

    <label>Enter Your Username/ID:</label>
    <input type="text" id="username" placeholder="e.g. EpicFlexer77">

    <label>Your Message:</label>
    <textarea id="message" placeholder="e.g. Letâ€™s build and battle ðŸ’£ðŸ§±"></textarea>

    <button onclick="submitProfile()">Submit to Flex Wall</button>
    <button id="buyPass" onclick="buyFlexPass()">ðŸ’Ž Buy INFINITE FLEX PASS</button>
  </div>

  <button onclick="revealWall()">ðŸ‘€ Show Flex Wall</button>

  <div id="displayArea">
    <h2>ðŸ§± Flex Wall</h2>
    <div id="wallContent"></div>
  </div>

  <script>
    let submissions = JSON.parse(localStorage.getItem("submissions")) || [];
    let hasFlexPass = localStorage.getItem("flexPass") === "true";

    let myFlexID = localStorage.getItem("flexID");
    if (!myFlexID) {
      myFlexID = generateFlexID();
      localStorage.setItem("flexID", myFlexID);
    }
    document.getElementById("flexidDisplay").innerText = "Your FlexID: " + myFlexID;

    function generateFlexID() {
      const num = Math.floor(1000 + Math.random() * 9000);
      const letters = Math.random().toString(36).substring(2, 5).toUpperCase();
      return `${num}-${letters}`;
    }

    function submitProfile() {
      const game = document.getElementById('game').value;
      const username = document.getElementById('username').value.trim();
      const message = document.getElementById('message').value.trim();

      const myFlexes = submissions.filter(f => f.flexID === myFlexID);

      if (!username) {
        alert("Enter your ID first, gamer.");
        return;
      }

      if (!hasFlexPass && myFlexes.length >= 10) {
        alert("Limit reached! Buy the INFINITE FLEX PASS to post more.");
        document.getElementById("buyPass").style.display = "inline-block";
        return;
      }

      const id = Date.now();
      const profile = { id, game, username, message, flexID: myFlexID };
      submissions.push(profile);

      localStorage.setItem("submissions", JSON.stringify(submissions));
      alert("âœ… Flex posted!");
      revealWall(); // auto-refresh wall
    }

    function revealWall() {
      const container = document.getElementById("wallContent");
      container.innerHTML = "";

      if (submissions.length === 0) {
        container.innerHTML = "<p>No flexes yet. Be the first to shine âœ¨</p>";
      } else {
        submissions.forEach(p => {
          const card = document.createElement("div");
          card.className = "card";
          card.innerHTML = `
            <strong>ðŸŽ® ${p.game}</strong><br>
            ID: ${p.username}<br>
            <em>ðŸ’¬ ${p.message}</em><br>
            <small>FlexID: ${p.flexID}</small>
          `;

          if (p.flexID === myFlexID) {
            const delBtn = document.createElement("button");
            delBtn.className = "deleteBtn";
            delBtn.innerText = "ðŸ—‘ï¸ Delete This Flex";
            delBtn.onclick = () => deleteFlex(p.id);
            card.appendChild(delBtn);
          }

          container.appendChild(card);
        });
      }
    }

    function deleteFlex(id) {
      if (!confirm("Are you sure you want to delete this flex?")) return;

      submissions = submissions.filter(f => f.id !== id);
      localStorage.setItem("submissions", JSON.stringify(submissions));
      revealWall();
    }

    function buyFlexPass() {
      hasFlexPass = true;
      localStorage.setItem("flexPass", "true");
      document.getElementById("buyPass").style.display = "none";
      alert("ðŸ’Ž You now have UNLIMITED flexing power!");
    }

    // AUTO-SHOW WALL ON LOAD
    revealWall();
  </script>
</body>
</html>
