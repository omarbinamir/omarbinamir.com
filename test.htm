<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architect Pro | Website to Code</title>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --blue: #1a73e8; --border: #dadce0; }
        body { margin: 0; font-family: 'Google Sans', sans-serif; background: #f8f9fa; display: flex; flex-direction: column; height: 100vh; }

        /* HEADER */
        nav { height: 60px; background: #fff; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; padding: 0 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); z-index: 10; }
        .get-code-btn { background: #34a853; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: bold; }

        /* WORKSPACE */
        .main { display: flex; flex: 1; overflow: hidden; }
        .canvas { flex: 1; overflow-y: auto; padding: 40px; display: flex; justify-content: center; }
        #drop-zone { width: 100%; max-width: 800px; min-height: 80vh; background: #fff; padding: 50px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }

        /* SIDEBAR */
        .sidebar { width: 300px; background: #fff; border-left: 1px solid var(--border); padding: 20px; display: flex; flex-direction: column; gap: 10px; }
        .tool-btn { border: 1px solid var(--border); padding: 15px; border-radius: 8px; cursor: pointer; text-align: center; background: #fff; transition: 0.2s; }
        .tool-btn:hover { border-color: var(--blue); color: var(--blue); background: #f8fbff; }

        /* BLOCKS */
        .block { padding: 10px; border: 2px solid transparent; margin-bottom: 10px; position: relative; display: flex; flex-direction: column; }
        .block:hover { border: 1px dashed var(--blue); cursor: pointer; }
        .block.selected { border: 2px solid var(--blue); background: #f1f7ff; }

        /* EXPORT MODAL */
        #code-modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 100; padding: 50px; }
        #code-display { background: #1e1e1e; color: #9cdcfe; padding: 20px; border-radius: 8px; height: 80vh; overflow: auto; font-family: monospace; white-space: pre-wrap; border: 1px solid #444; }
        .close-modal { color: white; position: absolute; top: 15px; right: 25px; font-size: 30px; cursor: pointer; }
    </style>
</head>
<body>

    <nav>
        <div style="font-size: 20px; color: #5f6368;">Architect <b>Pro</b></div>
        <button class="get-code-btn" onclick="exportHTML()">GET MY CODE</button>
    </nav>

    <div class="main">
        <div class="canvas">
            <div id="drop-zone">
                <div class="block" onclick="select(this)">
                    <h1 contenteditable="true">My Website</h1>
                    <p contenteditable="true">Click tools to add blocks here!</p>
                </div>
            </div>
        </div>

        <aside class="sidebar">
            <h3 style="margin:0 0 10px 0">Blocks</h3>
            <div class="tool-btn" onclick="add('text')">üìÑ Text</div>
            <div class="tool-btn" onclick="add('img')">üñºÔ∏è Image</div>
            <div class="tool-btn" onclick="add('btn')">üîò Button</div>
            <div class="tool-btn" onclick="add('map')">üìç Map</div>
            <div class="tool-btn" onclick="add('div')">‚ûñ Divider</div>
            <hr style="width:100%; border:0; border-top:1px solid #eee;">
            <div id="settings-area" style="font-size:13px; color:gray; text-align:center;">
                Select a block to edit
            </div>
        </aside>
    </div>

    <div id="code-modal">
        <span class="close-modal" onclick="document.getElementById('code-modal').style.display='none'">&times;</span>
        <h2 style="color:white; margin-top:0">Copy Your Website Code</h2>
        <div id="code-display"></div>
    </div>

    <script>
        let currentBlock = null;

        function add(type) {
            const el = document.createElement('div');
            el.className = 'block';
            el.onclick = (e) => { e.stopPropagation(); select(el); };

            if(type==='text') el.innerHTML = `<h2 contenteditable="true">New Block</h2><p contenteditable="true">Edit this text...</p>`;
            if(type==='img') el.innerHTML = `<img src="${prompt('Image URL:') || 'https://via.placeholder.com/400'}" style="width:100%; border-radius:8px;">`;
            if(type==='btn') el.innerHTML = `<button style="background:var(--blue); color:white; border:none; padding:12px 24px; border-radius:4px; font-weight:bold;">Click Me</button>`;
            if(type==='map') {
                const loc = prompt('Enter Location:');
                el.innerHTML = `<iframe width="100%" height="300" style="border:0; border-radius:8px;" src="https://maps.google.com/maps?q=${encodeURIComponent(loc)}&output=embed"></iframe>`;
            }
            if(type==='div') el.innerHTML = `<hr style="width:100%; border:none; border-top:1px solid #dadce0; margin:20px 0;">`;

            document.getElementById('drop-zone').appendChild(el);
            select(el);
        }

        function select(el) {
            if(currentBlock) currentBlock.classList.remove('selected');
            currentBlock = el;
            currentBlock.classList.add('selected');
            updateSidebar();
        }

        function updateSidebar() {
            const area = document.getElementById('settings-area');
            const hasBtn = currentBlock.querySelector('button');
            area.innerHTML = `
                <label>Width (%)</label>
                <input type="range" min="10" max="100" value="100" style="width:100%" oninput="currentBlock.style.width=this.value+'%'">
                ${hasBtn ? `<label>Link</label><input type="text" placeholder="google.com" style="width:100%" oninput="currentBlock.querySelector('button').onclick=()=>window.open('https://'+this.value)">` : ''}
                <button onclick="currentBlock.remove(); area.innerHTML='';" style="width:100%; margin-top:10px; color:red; border:1px solid red; background:none; padding:5px; cursor:pointer;">Delete Block</button>
            `;
        }

        function exportHTML() {
            // Create a clean version of the content
            const clone = document.getElementById('drop-zone').cloneNode(true);
            clone.querySelectorAll('.block').forEach(b => {
                b.classList.remove('selected');
                b.style.border = "none";
                b.removeAttribute('onclick');
            });
            clone.querySelectorAll('[contenteditable]').forEach(c => c.removeAttribute('contenteditable'));

            // The Final File Template
            const finalCode = `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>My Created Website</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; padding: 20px; background: #fff; }
        .block { display: flex; flex-direction: column; margin-bottom: 20px; width: 100%; }
        button { cursor: pointer; }
        img { max-width: 100%; height: auto; }
    </style>
</head>
<body>
    <div style="width:100%; max-width:800px;">
        ${clone.innerHTML}
    </div>
</body>
</html>`;

            document.getElementById('code-display').innerText = finalCode;
            document.getElementById('code-modal').style.display = 'block';
        }
    </script>
</body>
</html>